{% extends 'base.html' %}
{% block title %}Registrar Mantenimiento{% endblock %}
{% block content %}
<div class="main-content mant-main py-4 px-3">
  <div class="mant-card mx-auto">
    <h2 class="mant-title">Registrar Mantenimiento</h2>
    <form method="post" class="mant-form">
      <label for="fecha" class="mant-label">Fecha</label>
      <input type="date" id="fecha" name="fecha" class="mant-input" value="{{ mantenimiento.fecha or '' }}" required>
      <label for="tipo_servicio" class="mant-label">Tipo de Servicio</label>
      <input type="text" id="tipo_servicio" name="tipo_servicio" class="mant-input" value="{{ mantenimiento.tipo_servicio or '' }}" required>
      <label for="estatus" class="mant-label">Estatus</label>
      <select id="estatus" name="estatus" class="mant-input" required>
        <option value="Pendiente" {% if mantenimiento.estatus=='Pendiente' %}selected{% endif %}>Pendiente</option>
        <option value="En proceso" {% if mantenimiento.estatus=='En proceso' %}selected{% endif %}>En proceso</option>
        <option value="Terminado" {% if mantenimiento.estatus=='Terminado' %}selected{% endif %}>Terminado</option>
      </select>
      <label for="responsable" class="mant-label">Responsable</label>
      <input type="text" id="responsable" name="responsable" class="mant-input" value="{{ mantenimiento.responsable or '' }}" required>
      <label for="observaciones" class="mant-label">Observaciones</label>
      <textarea id="observaciones" name="observaciones" class="mant-input" rows="3">{{ mantenimiento.observaciones or '' }}</textarea>
      <button type="submit" class="mant-btn">Guardar</button>
    </form>
    {% if error %}<div class="mant-error">{{ error }}</div>{% endif %}
    {% if success %}<div class="mant-success">{{ success }}</div>{% endif %}
    <a href="/dashboard_taller" class="mant-link">Volver al panel de taller</a>
  </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
.mant-main { height: 100%; min-height: 0; overflow-y: auto; }
.mant-card { background: #fff; border-radius: 1.2rem; box-shadow: 0 8px 32px 0 rgba(31,38,135,0.15); padding: 2.5rem 2rem; max-width: 500px; width: 100%; }
.mant-title { color: #ffa000; font-size: 2rem; font-weight: bold; margin-bottom: 1.5rem; text-align: center; }
.mant-form { display: flex; flex-direction: column; gap: 1rem; }
.mant-label { color: #ffa000; font-weight: 600; }
.mant-input { padding: 0.7rem; border-radius: 0.5rem; border: 1px solid #ffe0b2; font-size: 1rem; }
.mant-btn { background: #ffa000; color: #fff; border: none; border-radius: 0.7rem; padding: 0.8rem 0; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background 0.2s; }
.mant-btn:hover { background: #ff6f00; }
.mant-link { display: block; margin-top: 1.5rem; color: #0288d1; text-decoration: none; font-weight: 500; text-align: center; }
.mant-link:hover { text-decoration: underline; }
.mant-error { color: #d32f2f; margin-top: 1rem; text-align: center; }
.mant-success { color: #388e3c; margin-top: 1rem; text-align: center; }

/* --- Responsividad m√≥vil --- */
@media (max-width: 600px) {
  .main-content.mant-main { padding: 1rem 0.2rem !important; }
  .mant-card { padding: 1.2rem 0.5rem; max-width: 100vw; border-radius: 0.7rem; box-shadow: 0 4px 16px 0 rgba(31,38,135,0.10); }
  .mant-title { font-size: 1.3rem; }
  .mant-form { gap: 0.7rem; }
  .mant-input, .mant-btn { font-size: 0.98rem; padding: 0.6rem; }
  .mant-btn { padding: 0.7rem 0; }
  .mant-link { margin-top: 1rem; font-size: 0.98rem; }
}
</style>
{% endblock %}
